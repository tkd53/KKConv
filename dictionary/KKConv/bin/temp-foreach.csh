#!/bin/csh -f
#=====================================================================================
#                       temp-foreach.csh
#                             bShinsuke Mori
#                             Last change 2 September 2009
#=====================================================================================

# 機  能 : 分散単語分割のためのラッパー
#
# 注意点 : ファイルのロックをしていない


#-------------------------------------------------------------------------------------
#                        check arguments
#-------------------------------------------------------------------------------------

if ($#argv != 1) then
    echo "Usage: $0 (DIRE)"
    exit(1)
endif

set DIRE = $1;


#-------------------------------------------------------------------------------------
#                        set variables
#-------------------------------------------------------------------------------------

set PROG = ../bin/temp-ME-apply.csh


#-------------------------------------------------------------------------------------
#                        main
#-------------------------------------------------------------------------------------

echo ===== $HOST $$ ================================================================

#foreach FILE ( ../MNN-corpus/*.text )
#foreach FILE ( ../SKN-corpus/*.text )
#foreach FILE ( $DIRE/*/??? )
foreach FILE ( $DIRE/*.text )
    echo $FILE
#    if ((-r $FILE.text) && (! -e $FILE:r.log)) then
    if ((-r $FILE) && (! -e $FILE:r.log)) then
        echo ----- $FILE -------------------------------------------------------------
        $PROG $FILE > & $FILE:r.log
        echo
    endif
end


#-------------------------------------------------------------------------------------
#                        close
#-------------------------------------------------------------------------------------

echo Done $0
exit


#=====================================================================================
#                        END
#=====================================================================================
