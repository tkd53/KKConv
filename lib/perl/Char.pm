#=====================================================================================
#                       Char.pm
#                             bShinsuke Mori
#                             Last change 12 March 2016
#=====================================================================================

# µ¡  Ç½ : Á´³ÑÊ¸»ú¤ò°·¤¦¥é¥¤¥Ö¥é¥ê
#
# ¼Â  Îã : ¤Ê¤·
#
# Ãí°ÕÅÀ : ¿ô»ú¤Î°·¤¤


#-------------------------------------------------------------------------------------
#                        declalations
#-------------------------------------------------------------------------------------

#-------------------------------------------------------------------------------------
#                        ¥ê¥¹¥È¤È¥Ï¥Ã¥·¥å¤ÎÀßÄê
#-------------------------------------------------------------------------------------

@SIGN     = qw(    ¡¡ ¡¢ ¡£ ¡¤ ¡¥ ¡¦ ¡§ ¡¨ ¡© ¡ª ¡« ¡¬ ¡­ ¡® ¡¯
                ¡° ¡± ¡² ¡³ ¡´ ¡µ ¡¶ ¡· ¡¸ ¡¹ ¡º ¡» ¡¼ ¡½ ¡¾ ¡¿
                ¡À ¡Á ¡Â ¡Ã ¡Ä ¡Å ¡Æ ¡Ç ¡È ¡É ¡Ê ¡Ë ¡Ì ¡Í ¡Î ¡Ï
                ¡Ğ ¡Ñ ¡Ò ¡Ó ¡Ô ¡Õ ¡Ö ¡× ¡Ø ¡Ù ¡Ú ¡Û ¡Ü ¡İ ¡Ş ¡ß
                ¡à ¡á ¡â ¡ã ¡ä ¡å ¡æ ¡ç ¡è ¡é ¡ê ¡ë ¡ì ¡í ¡î ¡ï
                ¡ğ ¡ñ ¡ò ¡ó ¡ô ¡õ ¡ö ¡÷ ¡ø ¡ù ¡ú ¡û ¡ü ¡ı ¡ş 
                   ¢¡ ¢¢ ¢£ ¢¤ ¢¥ ¢¦ ¢§ ¢¨ ¢© ¢ª ¢« ¢¬ ¢­ ¢® ¢¯
                ¢° ¢± ¢² ¢³ ¢´ ¢µ ¢¶ ¢· ¢¸ ¢¹ ¢º ¢» ¢¼ ¢½ ¢¾ ¢¿
                ¢À ¢Á ¢Â ¢Ã ¢Ä ¢Å ¢Æ ¢Ç ¢È ¢É ¢Ê ¢Ë ¢Ì ¢Í ¢Î ¢Ï
                ¢Ğ ¢Ñ ¢Ò ¢Ó ¢Ô ¢Õ ¢Ö ¢× ¢Ø ¢Ù ¢Ú ¢Û ¢Ü ¢İ ¢Ş ¢ß
                ¢à ¢á ¢â ¢ã ¢ä ¢å ¢æ ¢ç ¢è ¢é ¢ê ¢ë ¢ì ¢í ¢î ¢ï
                ¢ğ ¢ñ ¢ò ¢ó ¢ô ¢õ ¢ö ¢÷ ¢ø ¢ù ¢ú ¢û ¢ü ¢ı ¢ş   
                   ¨¡ ¨¢ ¨£ ¨¤ ¨¥ ¨¦ ¨§ ¨¨ ¨© ¨ª ¨« ¨¬ ¨­ ¨® ¨¯
                ¨° ¨± ¨² ¨³ ¨´ ¨µ ¨¶ ¨· ¨¸ ¨¹ ¨º ¨» ¨¼ ¨½ ¨¾ ¨¿
                ¨À );
%SIGN     = map(($_ => 1), @SIGN);

@NUMBER   = qw( £° £± £² £³ £´ £µ £¶ £· £¸ £¹ );
%NUMBER   = map(($_ => 1), @NUMBER);


@HIRAGANA = qw(    ¤¡ ¤¢ ¤£ ¤¤ ¤¥ ¤¦ ¤§ ¤¨ ¤© ¤ª ¤« ¤¬ ¤­ ¤® ¤¯ 
                ¤° ¤± ¤² ¤³ ¤´ ¤µ ¤¶ ¤· ¤¸ ¤¹ ¤º ¤» ¤¼ ¤½ ¤¾ ¤¿
                ¤À ¤Á ¤Â ¤Ã ¤Ä ¤Å ¤Æ ¤Ç ¤È ¤É ¤Ê ¤Ë ¤Ì ¤Í ¤Î ¤Ï
                ¤Ğ ¤Ñ ¤Ò ¤Ó ¤Ô ¤Õ ¤Ö ¤× ¤Ø ¤Ù ¤Ú ¤Û ¤Ü ¤İ ¤Ş ¤ß
                ¤à ¤á ¤â ¤ã ¤ä ¤å ¤æ ¤ç ¤è ¤é ¤ê ¤ë ¤ì ¤í ¤î ¤ï
                ¤ğ ¤ñ ¤ò ¤ó );
%HIRAGANA = map(($_ => 1), @HIRAGANA);

@KATAKANA = qw( ¡¼ ¥¡ ¥¢ ¥£ ¥¤ ¥¥ ¥¦ ¥§ ¥¨ ¥© ¥ª ¥« ¥¬ ¥­ ¥® ¥¯
                ¥° ¥± ¥² ¥³ ¥´ ¥µ ¥¶ ¥· ¥¸ ¥¹ ¥º ¥» ¥¼ ¥½ ¥¾ ¥¿
                ¥À ¥Á ¥Â ¥Ã ¥Ä ¥Å ¥Æ ¥Ç ¥È ¥É ¥Ê ¥Ë ¥Ì ¥Í ¥Î ¥Ï
                ¥Ğ ¥Ñ ¥Ò ¥Ó ¥Ô ¥Õ ¥Ö ¥× ¥Ø ¥Ù ¥Ú ¥Û ¥Ü ¥İ ¥Ş ¥ß
                ¥à ¥á ¥â ¥ã ¥ä ¥å ¥æ ¥ç ¥è ¥é ¥ê ¥ë ¥ì ¥í ¥î ¥ï
                ¥ğ ¥ñ ¥ò ¥ó ¥ô ¥õ ¥ö );
%KATAKANA = map(($_ => 1), @KATAKANA);


@LATINU   = qw(    £Á £Â £Ã £Ä £Å £Æ £Ç £È £É £Ê £Ë £Ì £Í £Î £Ï
                £Ğ £Ñ £Ò £Ó £Ô £Õ £Ö £× £Ø £Ù £Ú );
%LATINU   = map(($_ => 1), @LATINU);

@LATIND   = qw(    £á £â £ã £ä £å £æ £ç £è £é £ê £ë £ì £í £î £ï
                £ğ £ñ £ò £ó £ô £õ £ö £÷ £ø £ù £ú );
%LATIND   = map(($_ => 1), @LATIND);


@GREEKU   = qw(    ¦¡ ¦¢ ¦£ ¦¤ ¦¥ ¦¦ ¦§ ¦¨ ¦© ¦ª ¦« ¦¬ ¦­ ¦® ¦¯
                ¦° ¦± ¦² ¦³ ¦´ ¦µ ¦¶ ¦· ¦¸ );
%GREEKU   = map(($_ => 1), @GREEKU);

@GREEKD   = qw(    ¦Á ¦Â ¦Ã ¦Ä ¦Å ¦Æ ¦Ç ¦È ¦É ¦Ê ¦Ë ¦Ì ¦Í ¦Î ¦Ï
                ¦Ğ ¦Ñ ¦Ò ¦Ó ¦Ô ¦Õ ¦Ö ¦× ¦Ø );
%GREEKD   = (($_ => 1), @GREEKD);


@CYRILU   = qw(    §¡ §¢ §£ §¤ §¥ §¦ §§ §¨ §© §ª §« §¬ §­ §® §¯
                §° §± §² §³ §´ §µ §¶ §· §¸ §¹ §º §» §¼ §½ §¾ §¿
                §À §Á );
%CYRILU   = map(($_ => 1), @CYRILU);

@CYRILD   = qw(    §Ñ §Ò §Ó §Ô §Õ §Ö §× §Ø §Ù §Ú §Û §Ü §İ §Ş §ß
                §à §á §â §ã §ä §å §æ §ç §è §é §ê §ë §ì §í §î §ï
                §ğ §ñ );
%CYRILD   = map(($_ => 1), @CYRILD);


#-------------------------------------------------------------------------------------

# ²¾Ì¾´Á»úÊÑ´¹¤ÎÆşÎÏ

@KKCInput = (@LATINU, @NUMBER,                    # ±Ñ¿ô»ú
             @HIRAGANA, qw( ¥ô ¥õ ¥ö ),           # Ê¿²¾Ì¾, ÊÒ²¾Ì¾¤Î¤ß¤ÎÊ¸»ú
             qw( ¡¼ ¡á ¡ï ¡® ¡Ö ¡× ¡¨ ¡Ç ¡¢ ¡£ ), # ¡¿ => ¡¦ (if US101)
             qw( ¡ª ¡÷ ¡ô ¡ğ ¡ó ¡° ¡õ ¡ö ¡Ê ¡Ë ¡² ¡Ü ¡Ã ¡Á ¡Ğ ¡Ñ ¡§ ¡É ¡ã ¡ä ¡© ),
             qw( ¡¦ ));                           # for JP106 keyboard
%KKCInput = map(($_ => 1), @KKCInput);
$KKCInput = join("|", @KKCInput);


#-------------------------------------------------------------------------------------
#                        Han2Zen
#-------------------------------------------------------------------------------------

sub Han2Zen{
    my($string) = shift;

    my(@char) = qw( ¡¡ ¡ª ¡É ¡ô ¡ğ ¡ó ¡õ ¡Ç ¡Ê ¡Ë ¡ö ¡Ü ¡¤ ¡İ ¡¥ ¡¿ 
                    £° £± £² £³ £´ £µ £¶ £· £¸ £¹ ¡§ ¡¨ ¡ã ¡á ¡ä ¡©
                    ¡÷ £Á £Â £Ã £Ä £Å £Æ £Ç £È £É £Ê £Ë £Ì £Í £Î £Ï
                    £Ğ £Ñ £Ò £Ó £Ô £Õ £Ö £× £Ø £Ù £Ú ¡Î ¡ï ¡Ï ¡° ¡½
                    ¡Æ £á £â £ã £ä £å £æ £ç £è £é £ê £ë £ì £í £î £ï
                    £ğ £ñ £ò £ó £ô £õ £ö £÷ £ø £ù £ú ¡Ğ ¡Ã ¡Ñ ¡± ¡¡ );

    my(%char) = map((chr($_+0x20) => $char[$_]), (0 .. $#char));

    my($result) = "";
    foreach (split("", $string)){
        $result .= (((0x1f < ord($_)) && (ord($_) < 0x80)) ? $char{$_} : $_);
    }

    return($result);
}


#-------------------------------------------------------------------------------------
#                        return
#-------------------------------------------------------------------------------------

1;


#=====================================================================================
#                        END
#=====================================================================================
