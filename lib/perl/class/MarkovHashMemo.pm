#=====================================================================================
#                        MarkovHashMemo.pm
#                             by Shinsuke MORI
#                             Last change : 16 February 2005
#=====================================================================================

# 機  能 : 単純マルコフモデルをハッシュを用いて実装する。
#
# 注意点 : 状態列からハッシュキーへの関数は連接であり、これが単射となる必要がある。


#-------------------------------------------------------------------------------------
#                        declalations
#-------------------------------------------------------------------------------------

require "class/MarkovHash.pm";

package MarkovHashMemo;
@ISA = qw( MarkovHash );

use Carp;
use POSIX;


#-------------------------------------------------------------------------------------
#                        set variables
#-------------------------------------------------------------------------------------

$SUFFIX = ".db";                                # ファイル名の拡張子


#-------------------------------------------------------------------------------------
#                        new
#-------------------------------------------------------------------------------------

# new(IntStr, SIZE)
# new(IntStr, SIZE, FILE)
#
# 機  能 : マルコフモデルのためのハッシュを生成する。

sub new{
    (@_ == 2) || (@_ == 3) || die;
    my($type, $size, $FILE) = @_;
#    printf(STDERR "%s::new(%d, %s)\n", $type, $size, $FILE);

    my($self) = {};

    $$self{"_size_"} = $size;

    bless($self);

    $self->get($FILE) if (defined($FILE));

    return($self);
}


#-------------------------------------------------------------------------------------
#                        return
#-------------------------------------------------------------------------------------

1;


#=====================================================================================
#                        END
#=====================================================================================
