#=====================================================================================
#                        Math.pm
#                             by Shinsuke MORI
#                             Last change : 3 January 2007
#=====================================================================================

# 機  能 : 数学関数を定義する。
#
# 実  例 : なし
#
# 注意点 : なし


#-------------------------------------------------------------------------------------
#                        declalations
#-------------------------------------------------------------------------------------


#-------------------------------------------------------------------------------------
#                        Summation
#-------------------------------------------------------------------------------------

# 機  能 : 常用対数

sub log10{
    (@_ == 1) || die;

    return(log(shift)/log(10));
}


#-------------------------------------------------------------------------------------
#                        Summation
#-------------------------------------------------------------------------------------

# 機  能 : 引数の合計を返す。

sub Summation{
    my($sum) = 0;

    foreach (@_){
        $sum += $_;
    }

    return($sum);
}


#-------------------------------------------------------------------------------------
#                        Product
#-------------------------------------------------------------------------------------

# 機  能 : 引数の積を返す。

sub Product{
    my($prod) = 1;

    foreach (@_){
        $prod *= $_;
    }

    return($prod);
}


#-------------------------------------------------------------------------------------
#                        Summation
#-------------------------------------------------------------------------------------

# 機  能 : 引数の合計を返す。

sub Average{
    my($sum) = 0;

    foreach (@_){
        $sum += $_;
    }

    return($sum/scalar(@_));
}


#-------------------------------------------------------------------------------------
#                        PoissonDistribution
#-------------------------------------------------------------------------------------

# 機  能 : Poisson 分布
#
# 注  意 : $m は平均値

sub PoissonDistribution{
    (@_ == 2) || die;
    my($m, $k) = @_;

    return(($m**$k)*exp(-$m)/&Factorial($k));
}


#-------------------------------------------------------------------------------------
#                        GeometricDistribution
#-------------------------------------------------------------------------------------

# 機  能 : 幾何分布
#
# 注  意 : $m は平均値

sub GeometricDistribution{
    (@_ == 2) || die;
    my($m, $k) = @_;

    return(((1-1/$m)**($k-1))/$m);
}


#-------------------------------------------------------------------------------------
#                        Factorial
#-------------------------------------------------------------------------------------

# 機  能 : 階乗

sub Factorial{
    (@_ == 1) || die;
    my($n) = @_;
    my($F) = 1;

    $F *= $n-- while ($n > 1);

    return($F);
}


#-------------------------------------------------------------------------------------
#                        Fibonacci
#-------------------------------------------------------------------------------------

# 機  能 : フィボナッチ数列

sub Fibonacci{
    (@_ == 1) || die;
    my($n) = @_;

    ($n == 0) && return(0);
    ($n == 1) && return(1);

    return(&Fibonacci($n-1)+&Fibonacci($n-2));
}


#-------------------------------------------------------------------------------------
#                        return
#-------------------------------------------------------------------------------------

1;


#=====================================================================================
#                        END
#=====================================================================================
